title: Git 的简单使用
author: John Doe
date: 2020-06-14 20:24:13
tags:

---

我们的项目文件 git 是在 YNCar 中的，但是 npm 设置是在 font 中，所以

- 进行 git 操作时，要处于 YNCar 文件夹下
- 进行本项目的 npm 操作，比如 npm run serve，vue ui 时要在 font 文件夹下

#### 1、commit & push

###### 0. 先介绍一个很好用的方法，git 状态查看

```
git status
```

任何时候都可以进行这个代码，来查看 git 仓库此时的状态：

- 文件为红色：没有进行 git add . 跟踪
- 文件为绿色：已经进行 git add . 跟踪，但没提交
- 最上面可以查看本地分支与远程分支的 git 树状态（比如提示本地分支领先远程分支多少次提交）

###### 1. 首先进行 git add 跟踪

```
git add .
```

(不要忘记那一点，表示跟踪全部修改的文件)  
此操作执行完以后再用 git status 查看状态文件会变成绿色

###### 2. 跟踪完成后进行 commit 提交

```
git commit -m "一些提交信息"
```

一些提交信息可以遵循 git commit 规范

- “feat：\***\*\*\*\***” 表示此次提交新增的功能点，\*中写入功能点信息
- “fix：\*”表示此次提交为修改什么 bug 或者代码缺陷，\*中写入修改的功能信息
- 其他我也没用过就这些吧哈哈哈

提交完成后进行 git status 状态查看可以看到本地分支领先远程分支多少次提交

###### 3. push 推到远程分支

```
git push origin master
```

我们的代码没有要求分离出自己的开发分支，所以统一全部在 master 分支下使用，所以可以直接这样写。

**_但是直接 push 可能就会出现冲突问题_**  
冲突：在你 push 代码的时候，远程的 master 分支已经被别人 push 过别人的代码了，所以这个时候 push 就会出现问题。所以要进行下面的冲突解决。

#### 冲突解决，pull & rebase

要使用到**VScode**，先在扩展商店安装 Gitlens 插件  
[Git 学习小游戏](https://learngitbranching.js.org/?locale=zh_CN) 这是图形化教程，在 关卡选择中：远程->第一行第七点有关于这个的介绍。但没有本地编辑器解决冲突的样例。  
我下面的描述会更精确地描述冲突解决

###### 0. git 树是以 commit 为结点的，所以在解决冲突时要先把自己写好的代码先 commit 提交。

依据上面的描述提交代码

###### 1. 提交以后先把别人的代码从远程分支下拉下来

```
git pull --rebase origin
```

可以看看出现的详细信息。  
不要把终端窗口关掉！

###### 2. 拉下来以后会出现冲突，此时要在本地编辑器解决冲突

打开 VScode，左边导航第三个块就是 git 控制模块，合并更改中后面标志是 C 的表示（conflict）冲突，对每个文件进行修改。  
![git1](https://pic.downk.cc/item/5f7c1064160a154a67e86341.jpg)

每个拥有不同版本的代码块会被标识出来，上面 Gitlens 有很方便的选择保留代码块的哪个版本  
![git2](https://pic.downk.cc/item/5f7c109b160a154a67e87107.jpg)

- 当前更改：表示从远程拿来的别人的代码
- 传入的更改：表示自己的代码  
  我也是很懵逼为啥这么分，好像跟我的理解有点反过来

###### 3.修改完所有冲突以后要 add 一下

```
git add .
```

###### 4.然后进行 rebase 的最后一项 continue

```
git rebase --continue
```

###### 5.此时就可以 push 到远程分支了

```
git push origin
```
